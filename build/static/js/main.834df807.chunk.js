(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[4],{15:function(t){t.exports=JSON.parse('{"alertMsg":"is already in contacts. Please change name.","allContacts":"All contacts:","search":"Search result:","inputName":"Enter name:","inputTel":"Enter number:","submitBtn":"Add to contacts","editBtn":"Edit","deleteBtn":"Delete","titleMain":"Phonebook","titleSecondary":"Contacts","inputSearch":"Find contact by name:","noDataToRender":"No contacts :(","isLoadingNow":"...Loading, please wait!","errorMsg":{"badSignup":"Try another name or email","badLogin":"Wrong name or email. Try again","fatalError":"Ooops something went wrong!"}}')},16:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return a}));var c=function(t){return t.user.isLogged},r=function(t){return t.user.usersData.token},o=function(t){return t.user.usersData.name},a=function(t){return t.user.usersData.email}},19:function(t){t.exports=JSON.parse('{"a":"https://connections-api.herokuapp.com","c":{"signup":"/users/signup","login":"/users/login","logout":"/users/logout","refresh":"/users/current"},"b":"/contacts"}')},29:function(t,e,n){t.exports={list:"Navigation_list__1mGAh",item:"Navigation_item__2Vioz",activeItem:"Navigation_activeItem__VOk0u"}},3:function(t,e,n){"use strict";n.d(e,"k",(function(){return r})),n.d(e,"l",(function(){return o})),n.d(e,"j",(function(){return a})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return j})),n.d(e,"d",(function(){return f})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return d})),n.d(e,"g",(function(){return O}));var c=n(4),r=Object(c.b)("users/signupUsersRequest"),o=Object(c.b)("users/signupUsersSuccess"),a=Object(c.b)("users/signupUsersError"),u=Object(c.b)("users/loginUsersRequest"),i=Object(c.b)("users/loginUsersSuccess"),s=Object(c.b)("users/loginUsersError"),b=Object(c.b)("users/logoutUsersRequest"),j=Object(c.b)("users/logoutUsersSuccess"),f=Object(c.b)("users/logoutUsersError"),l=Object(c.b)("users/refreshUsersRequest"),d=Object(c.b)("users/refreshUsersSuccess"),O=Object(c.b)("users/refreshUsersError")},30:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var c=n(0),r=[{name:"Home",path:"/",exact:!0,type:"public",restricted:!1,component:Object(c.lazy)((function(){return n.e(1).then(n.bind(null,89))}))},{name:"Log in",path:"/login",type:"public",restricted:!0,component:Object(c.lazy)((function(){return n.e(2).then(n.bind(null,91))}))},{name:"Sign up",path:"/register",type:"public",restricted:!0,component:Object(c.lazy)((function(){return n.e(3).then(n.bind(null,92))}))},{name:"Contacts",path:"/contacts",type:"private",component:Object(c.lazy)((function(){return n.e(0).then(n.bind(null,90))}))}]},34:function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return b})),n.d(e,"b",(function(){return j}));var c=n(3),r=n(18),o=n.n(r),a=n(19),u=n(15),i=function(t){return function(e){e(Object(c.k)()),o.a.post(a.a+a.c.signup,t).then((function(t){var n=t.data,r=n.user,a=r.name,u=r.email,i=n.token;e(Object(c.l)({name:a,email:u,token:i})),o.a.defaults.headers.common.Authorization=i})).catch((function(t){return t&&e(Object(c.j)(u.errorMsg.badSignup))}))}},s=function(t){return function(e){e(Object(c.b)()),o.a.post(a.a+a.c.login,t).then((function(t){var n=t.data,r=n.user,a=r.name,u=r.email,i=n.token;e(Object(c.c)({name:a,email:u,token:i})),o.a.defaults.headers.common.Authorization=i})).catch((function(t){return t&&e(Object(c.a)(u.errorMsg.badLogin))}))}},b=function(t){return function(e){e(Object(c.h)()),o.a.defaults.headers.common.Authorization=t,o()(a.a+a.c.refresh).then((function(t){var n=t.data;return e(Object(c.i)(n))})).catch((function(t){return t&&e(Object(c.g)(u.errorMsg.fatalError))}))}},j=function(){return function(t){t(Object(c.e)()),o.a.post(a.a+a.c.logout).then((function(){return o.a.defaults.headers.common.Authorization="",t(Object(c.f)())})).catch((function(e){return e&&t(Object(c.d)(u.errorMsg.fatalError))}))}}},35:function(t,e,n){t.exports={container:"Container_container__1rSpG",title:"Container_title__2Z5-k",header:"Container_header__xpRlv",main:"Container_main__1LbBO"}},37:function(t,e,n){t.exports={container:"HeaderUserWelcome_container__2hhxd",welcomeText:"HeaderUserWelcome_welcomeText__2Qajb"}},39:function(t,e,n){"use strict";n(0);var c=n(2);e.a=function(t){var e=t.title;return Object(c.jsx)("p",{children:e})}},40:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var c=n(15),r=function(t,e){return t.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}))},o=function(t,e){return e?{contacts:t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})),title:"".concat(c.search)}:{contacts:t,title:"".concat(c.allContacts)}}},49:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return r}));var c=function(t){return t.error},r=function(t){return t.contacts.isLoading}},5:function(t,e,n){"use strict";n.d(e,"h",(function(){return r})),n.d(e,"i",(function(){return o})),n.d(e,"g",(function(){return a})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"k",(function(){return b})),n.d(e,"l",(function(){return j})),n.d(e,"j",(function(){return f})),n.d(e,"e",(function(){return l})),n.d(e,"f",(function(){return d})),n.d(e,"d",(function(){return O})),n.d(e,"m",(function(){return p}));var c=n(4),r=Object(c.b)("contacts/getContactsRequest"),o=Object(c.b)("contacts/getContactsSuccess"),a=Object(c.b)("contacts/getContactsError"),u=Object(c.b)("contacts/addContactRequest"),i=Object(c.b)("contacts/addContactSuccess"),s=Object(c.b)("contacts/addContactError"),b=Object(c.b)("contacts/removeContactRequest"),j=Object(c.b)("contacts/removeContactSuccess"),f=Object(c.b)("contacts/removeContactError"),l=Object(c.b)("contacts/editContactsRequest"),d=Object(c.b)("contacts/editContactsSuccess"),O=Object(c.b)("contacts/editContactsError"),p=Object(c.b)("contacts/setFilter")},50:function(t,e,n){"use strict";n(0);var c=n(6),r=n(54),o=n(2);e.a=function(t){var e=t.title,n=t.goTo,a=t.handleClick,u=Object(c.g)();return Object(o.jsx)("button",{type:"button",onClick:function(){n&&u.push(n),a&&a()},className:r.btn,children:e})}},54:function(t,e,n){t.exports={btn:"NavBtn_btn__3yFfx"}},87:function(t,e,n){},88:function(t,e,n){"use strict";n.r(e);var c,r,o,a,u,i=n(0),s=n(25),b=n.n(s),j=n(28),f=n(8),l=n(51),d=(n(63),n(4)),O=n(17),p=n(1),h=n(55),m=n(9),g=n(5),v=Object(d.c)([],(c={},Object(p.a)(c,g.i,(function(t,e){return e.payload})),Object(p.a)(c,g.c,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=e.payload;return[].concat(Object(h.a)(t),[n])})),Object(p.a)(c,g.l,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=e.payload;return t.filter((function(t){return t.id!==n}))})),Object(p.a)(c,g.f,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=e.payload;return t.map((function(t){return t.id!==n.id?t:n}))})),c)),x=Object(d.c)("",Object(p.a)({},g.m,(function(t,e){return e.payload}))),y=Object(m.b)({items:v,filter:x}),C=n(40),_=n(15),k=function(t){return function(e){return function(n){if(n.type===g.b.type||n.type===g.e.type){var c=t.getState().contacts.items,r=n.payload.name,o=Object(C.a)(c,r);if(n.type===g.b.type&&o)return alert("".concat(r," ").concat(_.alertMsg)),o;if(n.type===g.e.type){if(!o)return;if(o.id!==n.payload.id)return alert("".concat(r," ").concat(_.alertMsg)),o}}else e(n)}}},N=n(3),S=Object(d.c)(!1,(r={},Object(p.a)(r,g.h,(function(){return!0})),Object(p.a)(r,g.i,(function(){return!1})),Object(p.a)(r,g.g,(function(){return!1})),Object(p.a)(r,g.b,(function(){return!0})),Object(p.a)(r,g.c,(function(){return!1})),Object(p.a)(r,g.a,(function(){return!1})),Object(p.a)(r,g.k,(function(){return!0})),Object(p.a)(r,g.l,(function(){return!1})),Object(p.a)(r,g.j,(function(){return!1})),Object(p.a)(r,g.e,(function(){return!0})),Object(p.a)(r,g.f,(function(){return!1})),Object(p.a)(r,g.d,(function(){return!1})),Object(p.a)(r,N.k,(function(){return!0})),Object(p.a)(r,N.l,(function(){return!1})),Object(p.a)(r,N.j,(function(){return!1})),Object(p.a)(r,N.b,(function(){return!0})),Object(p.a)(r,N.c,(function(){return!1})),Object(p.a)(r,N.a,(function(){return!1})),Object(p.a)(r,N.e,(function(){return!0})),Object(p.a)(r,N.f,(function(){return!1})),Object(p.a)(r,N.d,(function(){return!1})),Object(p.a)(r,N.h,(function(){return!0})),Object(p.a)(r,N.i,(function(){return!1})),Object(p.a)(r,N.g,(function(){return!1})),r)),E=Object(d.c)("",(o={},Object(p.a)(o,g.g,(function(t,e){return e.payload})),Object(p.a)(o,g.a,(function(t,e){return e.payload})),Object(p.a)(o,g.j,(function(t,e){return e.payload})),Object(p.a)(o,g.d,(function(t,e){return e.payload})),Object(p.a)(o,N.j,(function(t,e){return e.payload})),Object(p.a)(o,N.a,(function(t,e){return e.payload})),Object(p.a)(o,N.d,(function(t,e){return e.payload})),Object(p.a)(o,N.g,(function(t,e){return e.payload})),Object(p.a)(o,g.i,(function(){return""})),Object(p.a)(o,g.c,(function(){return""})),Object(p.a)(o,g.l,(function(){return""})),Object(p.a)(o,g.f,(function(){return""})),Object(p.a)(o,N.l,(function(){return""})),Object(p.a)(o,N.c,(function(){return""})),Object(p.a)(o,N.f,(function(){return""})),Object(p.a)(o,N.i,(function(){return""})),o)),w=n(33),L=n(52),U={key:"token",version:1,storage:n.n(L).a,whitelist:"token"},z=Object(d.c)({},(a={},Object(p.a)(a,N.l,(function(t,e){return e.payload})),Object(p.a)(a,N.c,(function(t,e){return e.payload})),Object(p.a)(a,N.f,(function(){return{}})),Object(p.a)(a,N.i,(function(t,e){var n=e.payload;return Object(w.a)(Object(w.a)({},n),t)})),a)),R=Object(d.c)(!1,(u={},Object(p.a)(u,N.l,(function(){return!0})),Object(p.a)(u,N.c,(function(){return!0})),Object(p.a)(u,N.f,(function(){return!1})),Object(p.a)(u,N.i,(function(){return!0})),u)),M=Object(O.g)(U,z),q=Object(m.b)({usersData:M,isLogged:R}),A=Object(d.a)({reducer:{user:q,contacts:y,isLoading:S,error:E},middleware:function(t){return t({serializableCheck:{ignoredActions:[O.a,O.f,O.b,O.c,O.d,O.e]}}).concat(k)}}),T=Object(O.h)(A),B=n(16),D=n(29),F=n(2),H=function(t){var e=t.routes,n=Object(f.c)(B.a);return Object(F.jsx)("nav",{children:Object(F.jsx)("ul",{className:D.list,children:e.map((function(t){return n&&t.restricted||!n&&"private"===t.type?null:Object(F.jsx)("li",{children:Object(F.jsx)(j.b,{to:t.path,exact:!0,className:D.item,activeClassName:D.activeItem,children:t.name})},t.path)}))})})},I=n(30),J=n(6),W=function(t){var e=t.route;return Object(f.c)(B.a)?Object(F.jsx)(J.b,{component:e.component}):Object(F.jsx)(J.a,{to:"/login"})},G=function(t){var e=t.route;return Object(f.c)(B.a)&&e.restricted?Object(F.jsx)(J.a,{to:"/"}):Object(F.jsx)(J.b,{component:e.component})},P=function(t){var e=t.routes;return Object(F.jsx)(i.Suspense,{fallback:Object(F.jsx)("h2",{children:"Loading..."}),children:Object(F.jsx)(J.d,{children:e.map((function(t){return"public"===t.type?Object(F.jsx)(G,{exact:!0,path:t.path,route:t},t.name):Object(F.jsx)(W,{exact:!0,path:t.path,route:t},t.name)}))})})},V=n(34),Q=n(49),Y=n(39),Z=n(50),K=n(37),X=n.n(K),$=function(t){var e=t.userName,n=t.userEmail,c=t.onClick;return Object(F.jsxs)("div",{className:X.a.container,children:[Object(F.jsxs)("div",{className:X.a.welcomeText,children:[Object(F.jsxs)("p",{children:["Hello, ",Object(F.jsx)("b",{children:e}),"!"]}),Object(F.jsxs)("p",{children:["You are logged in as: ",Object(F.jsx)("b",{children:n})]})]}),Object(F.jsx)(Z.a,{title:"Log out",handleClick:c})]})},tt=n(35),et=function(){var t=Object(f.c)(B.b),e=Object(f.c)(B.a),n=Object(f.c)(Q.a),c=Object(f.b)(),r=Object(f.c)(B.d),o=Object(f.c)(B.c);Object(i.useEffect)((function(){!r&&t&&c(Object(V.c)(t))}),[c,t,r]);return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("header",{className:tt.header,children:[n&&Object(F.jsx)(Y.a,{title:n}),Object(F.jsx)(H,{routes:I.a}),e&&Object(F.jsx)($,{userName:r,userEmail:o,onClick:function(){c(Object(V.b)())}})]}),Object(F.jsx)("hr",{}),Object(F.jsx)("main",{className:tt.main,children:Object(F.jsx)(P,{routes:I.a})})]})};n(87);b.a.render(Object(F.jsx)(f.a,{store:A,children:Object(F.jsx)(l.a,{loading:null,persistor:T,children:Object(F.jsx)(j.a,{children:Object(F.jsx)(et,{})})})}),document.getElementById("root"))}},[[88,5,6]]]);
//# sourceMappingURL=main.834df807.chunk.js.map