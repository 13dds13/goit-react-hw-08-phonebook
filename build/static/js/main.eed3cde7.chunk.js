(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[4],{15:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return r})),n.d(e,"d",(function(){return u})),n.d(e,"c",(function(){return o}));var c=function(t){return t.user.isLogged},r=function(t){return t.user.usersData.token},u=function(t){return t.user.usersData.name},o=function(t){return t.user.usersData.email}},17:function(t){t.exports=JSON.parse('{"a":"https://connections-api.herokuapp.com","c":{"signup":"/users/signup","login":"/users/login","logout":"/users/logout","refresh":"/users/current"},"b":"/contacts"}')},19:function(t){t.exports=JSON.parse('{"alertMsg":"is already in contacts. Please change name.","allContacts":"All contacts:","search":"Search result:","inputName":"Enter name:","inputTel":"Enter number:","submitBtn":"Add to contacts","deleteBtn":"Delete","titleMain":"Phonebook","titleSecondary":"Contacts","inputSearch":"Find contact by name:","noDataToRender":"No contacts :(","isLoadingNow":"...Loading, please wait!"}')},29:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var c=n(0),r=[{name:"Home",path:"/",exact:!0,type:"public",restricted:!1,component:Object(c.lazy)((function(){return n.e(1).then(n.bind(null,83))}))},{name:"Log in",path:"/login",type:"public",restricted:!0,component:Object(c.lazy)((function(){return n.e(2).then(n.bind(null,84))}))},{name:"Sign up",path:"/register",type:"public",restricted:!0,component:Object(c.lazy)((function(){return n.e(3).then(n.bind(null,85))}))},{name:"Contacts",path:"/contacts",type:"private",component:Object(c.lazy)((function(){return n.e(0).then(n.bind(null,82))}))}]},33:function(t,e,n){"use strict";n.d(e,"d",(function(){return a})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return b}));var c=n(4),r=n(18),u=n.n(r),o=n(17),a=function(t){return function(e){e(Object(c.k)()),u.a.post(o.a+o.c.signup,t).then((function(t){var n=t.data,r=n.user,u=r.name,o=r.email,a=n.token;e(Object(c.l)({name:u,email:o,token:a}))})).catch((function(t){return e(Object(c.j)(t))}))}},i=function(t){return function(e){e(Object(c.b)()),u.a.post(o.a+o.c.login,t).then((function(t){var n=t.data,r=n.user,u=r.name,o=r.email,a=n.token;e(Object(c.c)({name:u,email:o,token:a}))})).catch((function(t){return e(Object(c.a)(t))}))}},s=function(t){return function(e){e(Object(c.h)()),u.a.defaults.headers.common.Authorization=t,u()(o.a+o.c.refresh).then((function(t){var n=t.data;e(Object(c.i)(n))})).catch((function(t){return e(Object(c.g)(t))}))}},b=function(t){return function(e){e(Object(c.e)()),u.a.defaults.headers.common.Authorization=t,u.a.post(o.a+o.c.logout).then((function(t){var n=t.data;e(Object(c.f)(n))})).catch((function(t){return e(Object(c.d)(t))}))}}},36:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return u}));var c=n(19),r=function(t,e){return t.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}))},u=function(t,e){return e?{contacts:t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})),title:"".concat(c.search)}:{contacts:t,title:"".concat(c.allContacts)}}},4:function(t,e,n){"use strict";n.d(e,"k",(function(){return r})),n.d(e,"l",(function(){return u})),n.d(e,"j",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return j})),n.d(e,"d",(function(){return f})),n.d(e,"h",(function(){return d})),n.d(e,"i",(function(){return O})),n.d(e,"g",(function(){return l}));var c=n(2),r=Object(c.b)("users/signupUsersRequest"),u=Object(c.b)("users/signupUsersSuccess"),o=Object(c.b)("users/signupUsersError"),a=Object(c.b)("users/loginUsersRequest"),i=Object(c.b)("users/loginUsersSuccess"),s=Object(c.b)("users/loginUsersError"),b=Object(c.b)("users/logoutUsersRequest"),j=Object(c.b)("users/logoutUsersSuccess"),f=Object(c.b)("users/logoutUsersError"),d=Object(c.b)("users/refreshUsersRequest"),O=Object(c.b)("users/refreshUsersSuccess"),l=Object(c.b)("users/refreshUsersError")},7:function(t,e,n){"use strict";n.d(e,"h",(function(){return r})),n.d(e,"i",(function(){return u})),n.d(e,"g",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"k",(function(){return b})),n.d(e,"l",(function(){return j})),n.d(e,"j",(function(){return f})),n.d(e,"e",(function(){return d})),n.d(e,"f",(function(){return O})),n.d(e,"d",(function(){return l})),n.d(e,"m",(function(){return p}));var c=n(2),r=Object(c.b)("contacts/getContactsRequest"),u=Object(c.b)("contacts/getContactsSuccess"),o=Object(c.b)("contacts/getContactsError"),a=Object(c.b)("contacts/addContactRequest"),i=Object(c.b)("contacts/addContactSuccess"),s=Object(c.b)("contacts/addContactError"),b=Object(c.b)("contacts/removeContactRequest"),j=Object(c.b)("contacts/removeContactSuccess"),f=Object(c.b)("contacts/removeContactError"),d=Object(c.b)("contacts/editContactsRequest"),O=Object(c.b)("contacts/editContactsSuccess"),l=Object(c.b)("contacts/editContactsError"),p=Object(c.b)("contacts/setFilter")},80:function(t,e,n){},81:function(t,e,n){"use strict";n.r(e);var c,r,u,o,a=n(0),i=n(25),s=n.n(i),b=n(28),j=n(8),f=n(45),d=(n(56),n(2)),O=n(16),l=n(1),p=n(48),h=n(9),g=n(7),m=Object(d.c)([],(c={},Object(l.a)(c,g.i,(function(t,e){return e.payload})),Object(l.a)(c,g.c,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=e.payload;return[].concat(Object(p.a)(t),[n])})),Object(l.a)(c,g.l,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=e.payload;return t.filter((function(t){return t.id!==n}))})),Object(l.a)(c,g.f,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=e.payload;return t.map((function(t){return t.id!==n.id?t:n}))})),c)),y=Object(d.c)("",Object(l.a)({},g.m,(function(t,e){return e.payload}))),v=Object(h.b)({items:m,filter:y}),x=n(36),k=n(19),C=function(t){return function(e){return function(n){if(n.type===g.b.type||n.type===g.e.type){var c=t.getState().contacts.items,r=n.payload.name,u=Object(x.a)(c,r);if(n.type===g.b.type&&u)return alert("".concat(r," ").concat(k.alertMsg)),u;if(n.type===g.e.type){if(!u)return;if(u.id!==n.payload.id)return alert("".concat(r," ").concat(k.alertMsg)),u}}else e(n)}}},S=n(4),w=Object(d.c)(!1,(r={},Object(l.a)(r,g.h,(function(){return!0})),Object(l.a)(r,g.i,(function(){return!1})),Object(l.a)(r,g.g,(function(){return!1})),Object(l.a)(r,g.b,(function(){return!0})),Object(l.a)(r,g.c,(function(){return!1})),Object(l.a)(r,g.a,(function(){return!1})),Object(l.a)(r,g.k,(function(){return!0})),Object(l.a)(r,g.l,(function(){return!1})),Object(l.a)(r,g.j,(function(){return!1})),Object(l.a)(r,g.e,(function(){return!0})),Object(l.a)(r,g.f,(function(){return!1})),Object(l.a)(r,g.d,(function(){return!1})),Object(l.a)(r,S.k,(function(){return!0})),Object(l.a)(r,S.l,(function(){return!1})),Object(l.a)(r,S.j,(function(){return!1})),Object(l.a)(r,S.b,(function(){return!0})),Object(l.a)(r,S.c,(function(){return!1})),Object(l.a)(r,S.a,(function(){return!1})),Object(l.a)(r,S.e,(function(){return!0})),Object(l.a)(r,S.f,(function(){return!1})),Object(l.a)(r,S.d,(function(){return!1})),Object(l.a)(r,S.h,(function(){return!0})),Object(l.a)(r,S.i,(function(){return!1})),Object(l.a)(r,S.g,(function(){return!1})),r)),E=n(32),L=n(46),U={key:"token",version:1,storage:n.n(L).a,whitelist:"token"},R=Object(d.c)({},(u={},Object(l.a)(u,S.l,(function(t,e){return e.payload})),Object(l.a)(u,S.c,(function(t,e){return e.payload})),Object(l.a)(u,S.f,(function(){return{}})),Object(l.a)(u,S.i,(function(t,e){var n=e.payload;return Object(E.a)(Object(E.a)({},n),t)})),u)),q=Object(d.c)(!1,(o={},Object(l.a)(o,S.l,(function(){return!0})),Object(l.a)(o,S.c,(function(){return!0})),Object(l.a)(o,S.f,(function(){return!1})),Object(l.a)(o,S.i,(function(){return!0})),o)),z=Object(O.g)(U,R),D=Object(h.b)({usersData:z,isLogged:q}),A=Object(d.a)({reducer:{user:D,contacts:v,isLoading:w},middleware:function(t){return t({serializableCheck:{ignoredActions:[O.a,O.f,O.b,O.c,O.d,O.e]}}).concat(C)}}),N=Object(O.h)(A),F=n(15),J=n(3),M=function(t){var e=t.routes,n=Object(j.c)(F.a);return e.map((function(t){return n&&t.restricted||!n&&"private"===t.type?null:Object(J.jsx)(b.b,{to:t.path,exact:!0,children:t.name},t.path)}))},B=n(29),H=n(5),P=function(t){var e=t.route;return Object(j.c)(F.a)?Object(J.jsx)(H.b,{component:e.component}):Object(J.jsx)(H.a,{to:"/login"})},T=function(t){var e=t.route;return Object(j.c)(F.a)&&e.restricted?Object(J.jsx)(H.a,{to:"/"}):Object(J.jsx)(H.b,{component:e.component})},I=function(t){var e=t.routes;return Object(J.jsx)(a.Suspense,{fallback:Object(J.jsx)("h2",{children:"Loading..."}),children:Object(J.jsx)(H.d,{children:e.map((function(t){return"public"===t.type?Object(J.jsx)(T,{exact:!0,path:t.path,route:t},t.name):Object(J.jsx)(P,{exact:!0,path:t.path,route:t},t.name)}))})})},Y=n(33),G=function(){var t=Object(j.c)(F.b),e=Object(j.c)(F.a),n=Object(j.b)(),c=Object(j.c)(F.d),r=Object(j.c)(F.c);Object(a.useEffect)((function(){!c&&t&&n(Object(Y.c)(t))}),[n,t,c]);return Object(J.jsxs)(J.Fragment,{children:[e&&Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)("p",{children:["Hello, ",Object(J.jsx)("b",{children:c})," !"]}),Object(J.jsxs)("p",{children:["You are logged in as: ",Object(J.jsx)("b",{children:r})]}),Object(J.jsx)("button",{type:"button",onClick:function(){n(Object(Y.b)(t))},children:"Log out"}),Object(J.jsx)("br",{}),Object(J.jsx)("hr",{})]}),Object(J.jsx)(M,{routes:B.a}),Object(J.jsx)("hr",{}),Object(J.jsx)(I,{routes:B.a})]})};n(80);s.a.render(Object(J.jsx)(j.a,{store:A,children:Object(J.jsx)(f.a,{loading:null,persistor:N,children:Object(J.jsx)(b.a,{children:Object(J.jsx)(G,{})})})}),document.getElementById("root"))}},[[81,5,6]]]);
//# sourceMappingURL=main.eed3cde7.chunk.js.map